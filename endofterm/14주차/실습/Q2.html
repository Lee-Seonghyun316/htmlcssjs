<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Q2</title>
    <script>
      function getSelectValue(frm) {
        var now = new Date();

        frm.textTime.value =
          now.getHours() +
          "시 " +
          now.getMinutes() +
          "분 " +
          now.getSeconds() +
          "초";

        var form = document.form;
        var count = form.selectBox.length;
        var totalPrice = 0;
        str = frm.selectBox.value;
        msg = "";
        for (var i = 0; i < count; i++) {
          if (frm.selectBox.options[i].selected) {
            a = frm.selectBox.options[i].text;
            var sub = a.split(" ");

            msg = msg + sub[0] + " ";

            frm.textValue.value = msg;

            var price = sub[1].replace(",", "");
            price = price.replace("원", "");
            price = parseInt(price);
            totalPrice += price;
            frm.optionValue.value = totalPrice;
          }
        }
        frm.textValue.value = "선택하신 물건은 : " + msg;
      }
    </script>
  </head>
  <body>
    <h3>주문내역</h3>
    <hr style="background-color: orange" />

    <form name="form">
      <table>
        <tbody>
          <tr>
            <td>주문자명</td>
            <td><input type="txt" /></td>
          </tr>
          <tr>
            <td style="background-color: orange">작성 시간</td>
            <td>
              <input
                type="txt"
                name="textTime"
                id="textTime"
                disabled="disabled"
              />
            </td>
          </tr>
          <tr>
            <td>주문자 비밀번호</td>
            <td><input type="txt" /></td>
          </tr>
          <tr>
            <td style="background-color: orange">제품 목록</td>
            <td>
              <select
                name="selectBox"
                onchange="getSelectValue(this.form);"
                multiple="multiple"
                id="selectBox"
              >
                <option value="1">마우스 30,000원</option>
                <option value="2" selected="selected">모니터 40,000원</option>
                <option value="3">USB 15,000원</option>
                <option value="4">이어폰 90,000원</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>선택목록</td>
            <td>
              <textarea
                name="textValue"
                style="vertical-align: top; width: 100%; height: 100px"
                disabled="disabled"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td>금액</td>
            <td>
              <input type="text" name="optionValue" disabled="disabled" />원
            </td>
          </tr>
        </tbody>
      </table>
      <button type="submit">확인</button>
      <button type="reset">취소</button>
    </form>
  </body>
</html>
